function setSelectHandler(){const t=document.querySelectorAll(".select");t.length>0&&t.forEach((function(t){let e=t.querySelector(".select__button"),s=t.querySelector(".select__list"),c=t.querySelectorAll(".select__item"),l=t.querySelector(".select__input_hidden");function n(){e&&e.classList.remove("select__button_active"),s&&s.classList.remove("select__list_visible")}e&&e.addEventListener("click",(function(){s&&(e.classList.toggle("select__button_active"),s.classList.toggle("select__list_visible"))})),c.length>0&&c.forEach((t,s,i)=>{t.addEventListener("click",(function(t){t.stopPropagation(),e&&(e.innerText=this.innerText),l&&(l.value=this.dataset.value),c.forEach(t=>t.classList.remove("select__item_hidden")),this.classList.add("select__item_hidden"),n()}))}),document.addEventListener("click",(function(t){t.target!==e&&n()})),document.addEventListener("keydown",(function(t){"Tab"!==t.key&&"Escape"!==t.key||n()}))}))}function setTabHandler(){document.querySelectorAll(".tabs").forEach((function(t){let e=t.querySelectorAll(".tabs__btn"),s=t.querySelectorAll(".tabs__element"),c=t.querySelectorAll(".select__item");function l(t){t&&(s.forEach(t=>{t.classList.remove("tabs__element_active")}),t.classList.add("tabs__element_active"))}function n(s,c){let n=s,i=n.getAttribute("data-value"),o=t.querySelector(i);"tabs_button"===c?n.classList.contains("tabs__btn_active")||(l(o),e.forEach(t=>{t.classList.remove("tabs__btn_active")}),n.classList.add("tabs__btn_active")):"select"===c&&l(o)}e.length>0&&e.forEach(t=>{t.addEventListener("click",(function(){n(t,"tabs_button")}))}),c.length>0&&c.forEach(t=>{t.addEventListener("click",(function(){n(t,"select")}))})}))}function setDefaultValue(){const t=document.querySelectorAll(".tabs");t.length>0&&t.forEach(t=>{let e=t.querySelector(".tabs__btn"),s=t.querySelector(".select__item");e&&e.click(),s&&s.click()})}function loadProducts(t){console.log(t);let e=document.querySelector(".products__tabs");if(e)try{let s="",c="",l='<div class="tabs__control">',n="</div>",i='<ul class="tabs__list">',o="</ul>",a='<div class="tabs__select select"><button type="button" class="select__button text"></button><ul class="select__list">',r='</ul><input type="text" name="category" value="" class="select__input select__input_hidden"></div>',u="",d="",_="",b='<div class="tabs__content">',f="</div>",m="",v='<ul class="products-list">',g="</ul>",y='<li class="products-list__item">',h="</li>";t&&t.tabs&&t.tabs.length>0&&(t.tabs.forEach(t=>{const e=t.id,s=t.name,c=t.products;let l=`<li data-value="#${e}" class="select__item text">${s}</li>`;u+=` <li class="tabs__item">\n                                                <button class="tabs__btn text" data-value="#${e}" type="button">${s}</button>\n                                            </li>`,d+=l;let n=`<div class="tabs__element product" id="${e}">`,i="";c&&c.length>0&&c.forEach(t=>{t.id;let e=`<img class="products-list__img" src="img/${t.img}" alt="Product">`,s=`<h3 class="products-list__title title title_size_s">${t.name}</h3>`,c=`<div class="products-list__info">\n                                                    <p class="products-list__text text text_size_s">${t.description}</p>\n                                                    <button class="products-list__btn btn btn_secondary" type="button">Подробнее</button>\n                                                </div>`;i+=y,i+=e+s+c,i+=h}),m+=n,m+=v,m+=i,m+=g,m+="</div>"}),c+=l,c+=i+u+o,c+=a+d+r,c+=n,_+=b,_+=m,_+=f,s=c+_,e.insertAdjacentHTML("beforeend",s))}catch{}}async function getProducts(){try{let t=await fetch("json/products.json",{method:"GET"});if(t.ok){loadProducts(await t.json())}else alert("Ошибка!")}catch{alert("Ошибка!")}finally{setTabHandler(),setSelectHandler(),setDefaultValue()}}getProducts();const isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.Opera()||isMobile.Windows()||isMobile.iOS()}};function getClassDevice(){isMobile.any()?document.body.classList.add("_touch"):document.body.classList.add("_pc")}function setActiveMobileMenu(){let t=document.querySelector(".icon-menu");t&&t.addEventListener("click",(function(e){let s=document.querySelector(".menu__body");s&&(document.body.classList.toggle("_lock"),t.classList.toggle("_active"),s.classList.toggle("_active"))}))}function testWebP(t){var e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}setActiveMobileMenu(),testWebP((function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));